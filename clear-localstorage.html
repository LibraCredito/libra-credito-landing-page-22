<!DOCTYPE html>
<html>
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4LXR55Y9HS"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-4LXR55Y9HS');
    </script>
    <title>Limpar LocalStorage</title>
</head>
<body>
    <h1>Limpando LocalStorage...</h1>
    <div id="status">Processando...</div>
    
    <script>
        // Limpar todos os dados do localStorage relacionados ao projeto
        const keysToRemove = [
            'libra_blog_posts',
            'libra_blog_images', 
            'libra_session_id',
            'libra_user_journey',
            'libra_simulation_config',
            'libra_admin_token',
            'libra_admin_user'
        ];
        
        let removedCount = 0;
        
        keysToRemove.forEach(key => {
            if (localStorage.getItem(key)) {
                localStorage.removeItem(key);
                removedCount++;
                console.log(`Removido: ${key}`);
            }
        });
        
        // Limpar também qualquer chave que comece com 'libra'
        const allKeys = Object.keys(localStorage);
        allKeys.forEach(key => {
            if (key.startsWith('libra') || key.startsWith('sb-')) {
                localStorage.removeItem(key);
                removedCount++;
                console.log(`Removido: ${key}`);
            }
        });
        
        document.getElementById('status').innerHTML = `
            <h2>✅ LocalStorage Limpo!</h2>
            <p>Removidas ${removedCount} entradas</p>
            <p>Recarregue a página principal e teste novamente.</p>
            <button onclick="window.close()">Fechar</button>
        `;
        
        console.log(`LocalStorage limpo! ${removedCount} itens removidos.`);
    </script>
</body>
</html>